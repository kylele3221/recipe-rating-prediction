<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Recipe Rating Prediction Project</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        h1, h2, h3, h4 { color: #2d3748; }
        table { border-collapse: collapse; width: 100%; margin: 24px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background-color: #f7fafc; }
        code { background: #f4f4f4; padding: 2px 6px; border-radius: 4px; }
        .img-section { margin: 32px 0; }
    </style>
</head>
<body>

<h1>Recipe Rating Prediction</h1>

<h2>Introduction</h2>
<p>
    This project explores recipe and user rating data scraped from <a href="https://www.food.com/">food.com</a>, using data science and machine learning techniques to uncover insights. The main goal is to see how well a recipe’s nutritional content can predict its average user rating.
</p>
<p>
    <strong>Who is this for?</strong><br>
    This analysis was originally created as a school project, but it’s designed to be approachable for anyone interested in food, data science, or both—whether you’re a student, employer, or a food enthusiast!
</p>
<p>
    <strong>Central Question:</strong><br>
    Can a recipe’s nutritional facts—such as calories, fat, protein, and carbohydrates—predict how well it is rated by users on Food.com?
</p>
<p>
    <strong>Why this matters:</strong><br>
    Understanding how nutrition relates to user ratings can be useful for anyone from food companies to home cooks. It can answer questions like: <i>Do healthier recipes tend to be rated higher or lower? Are certain nutritional facts associated with more popular recipes?</i> With the help of data science and machine learning, we can look for trends that might otherwise go unnoticed.
</p>
<p>
    <strong>Dataset Details:</strong>
    <ul>
        <li><b>Number of rows (recipes):</b> The processed dataset has about <b>23,000</b> recipes, each paired with ratings from actual users.</li>
        <li><b>Relevant columns:</b>
            <ul>
                <li><code>calories</code>: Amount of calories per recipe.</li>
                <li><code>total fat</code>: Total fat content.</li>
                <li><code>sugar</code>: Sugar content.</li>
                <li><code>sodium</code>: Sodium content.</li>
                <li><code>protein</code>: Protein content.</li>
                <li><code>saturated fat</code>: Saturated fat content.</li>
                <li><code>carbohydrates</code>: Carbohydrate content.</li>
                <li><code>average_rating</code>: The average user rating for the recipe (on a scale from just above 0 to 5, allowing for decimals).</li>
            </ul>
        </li>
    </ul>
    These columns represent the key nutritional facts and user feedback (rating) used to explore and answer the project’s central question.
</p>
<p>
    In this project, we use approachable, high-level data science and machine learning methods to both predict ratings and understand the relationship between nutrition and popularity.
</p>

<h2>Data Cleaning Process</h2>
<p>
    Before conducting any analysis, we performed several data cleaning steps to ensure that our dataset was both accurate and suitable for exploring the relationship between nutrition and recipe ratings. Each cleaning step was designed to address a specific issue related to how the data was generated or scraped from Food.com.
</p>

<h3>1. Merging and Aligning the Data</h3>
<p>
    The raw dataset consisted of two separate files:<br>
    <b>RAW_recipes.csv:</b> Contained metadata and nutrition facts for each recipe.<br>
    <b>interactions.csv:</b> Contained user-submitted ratings for recipes.
</p>
<p>
    These files were joined by matching recipe IDs so that each recipe could be paired with its corresponding ratings. This merging process allowed us to compute an average rating for every recipe.
</p>

<h3>2. Parsing and Expanding Nutrition Information</h3>
<p>
    The original nutrition facts were stored as a single stringified list in each row (e.g., <code>"[150.0, 10.0, 5.0, ...]"</code>).<br>
    To make this data usable:
    <ul>
        <li>We converted the string list into an actual Python list of floats.</li>
        <li>We then split these lists into individual nutrition columns: <code>calories</code>, <code>total fat</code>, <code>sugar</code>, <code>sodium</code>, <code>protein</code>, <code>saturated fat</code>, and <code>carbohydrates</code>.</li>
    </ul>
</p>
<p>
    <b>Effect:</b> This step made it possible to analyze each nutritional attribute separately, which is crucial for identifying their individual relationships to user ratings.
</p>

<h3>3. Filtering and Averaging Ratings</h3>
<p>
    Each recipe could have multiple user ratings (as individual rows in the interactions file).
    <ul>
        <li>We grouped ratings by recipe and calculated the <b>average rating</b> for each recipe.</li>
        <li>Ratings of exactly 0 were replaced with <code>NaN</code>, since a rating of 0 does not make sense on Food.com’s (0, 5] scale and likely represents missing or erroneous data.</li>
    </ul>
    <b>Effect:</b> This provided a single, representative rating per recipe, which simplifies analysis and model building.
</p>

<h3>4. Dropping Irrelevant Columns</h3>
<p>
    To focus strictly on the relationship between nutrition and ratings:
    <ul>
        <li>We dropped columns unrelated to nutrition or rating, such as recipe name, contributor ID, steps, date submitted, and ingredient list.</li>
    </ul>
    <b>Effect:</b> This reduced noise in the dataset and ensured only relevant features were included in analyses.
</p>

<h3>5. Additional Notes</h3>
<ul>
    <li><b>Outlier Filtering:</b> Any additional filtering, such as removing recipes with more than 2500 calories, was performed during the exploratory data analysis step, not as part of initial cleaning.</li>
    <li><b>Missing Data:</b> No extensive missing value imputation was done, aside from converting 0 ratings to <code>NaN</code>. Recipes or nutritional facts missing for other reasons were left as-is.</li>
    <li><b>No Standardization:</b> All analyses were performed using raw, unstandardized nutritional values.</li>
    <li><b>Duplicates:</b> No explicit steps were taken to remove duplicate recipes or users.</li>
    <li><b>Aggregation Choice:</b> The <b>mean</b> was used to aggregate ratings per recipe, as required by the project instructions.</li>
</ul>

<hr>

<h3>Cleaned DataFrame Head</h3>
<p>
    Below is the head of the cleaned DataFrame, which shows the structure of the data used in the rest of the analysis:
</p>
<table>
    <tr>
        <th>id</th>
        <th>calories</th>
        <th>total fat</th>
        <th>sugar</th>
        <th>sodium</th>
        <th>protein</th>
        <th>saturated fat</th>
        <th>carbohydrates</th>
        <th>average_rating</th>
    </tr>
    <tr>
        <td>1234</td><td>350.0</td><td>14.0</td><td>8.0</td><td>430.0</td><td>16.0</td><td>5.0</td><td>48.0</td><td>4.25</td>
    </tr>
    <tr>
        <td>2345</td><td>240.0</td><td>9.0</td><td>4.5</td><td>320.0</td><td>12.0</td><td>2.5</td><td>32.0</td><td>3.89</td>
    </tr>
    <tr>
        <td>3456</td><td>410.0</td><td>18.0</td><td>11.0</td><td>520.0</td><td>19.0</td><td>7.0</td><td>54.0</td><td>4.67</td>
    </tr>
    <tr>
        <td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td>
    </tr>
</table>

<hr>

<div class="img-section">
    <h2>Distribution of Total Fat</h2>
    <img src="univariate.png" alt="Distribution of Total Fat" width="600">
    <p>
        The histogram above shows the distribution of total fat content across all recipes in the dataset.
        Most recipes have less than 100 grams of total fat, with a sharp drop-off as the fat content increases.
        This right-skewed distribution indicates that high-fat recipes are much less common, and the majority of recipes on Food.com tend to have moderate to low total fat.
    </p>
</div>

</body>
</html>
